<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ë–∞–ª–∞–Ω—Å–µ—Ä –∫–æ–º–∞–Ω–¥</title>
  <link rel="stylesheet" href="balancer.css">
</head>
<body>
  <header class="header">
    <div class="logo">üéÆ Game Balancer</div>
    <nav class="nav" style="display:flex; align-items:center; justify-content:center; gap:1rem;">
      <button id="btn-load">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≥—Ä–∞–≤—Ü—ñ–≤</button>
      <select id="league" style="margin-left:auto">
        <option value="kids">–ú–æ–ª–æ–¥—à–∞ –ª—ñ–≥–∞</option>
        <option value="sunday">–°—Ç–∞—Ä—à–∞ –ª—ñ–≥–∞</option>
      </select>
    </nav>
  </header>

  <main class="container">
    <!-- 1. –í–∏–±—ñ—Ä –≥—Ä–∞–≤—Ü—ñ–≤ -->
    <section id="select-area" class="card hidden">
      <h2>–í–∏–±—ñ—Ä –≥—Ä–∞–≤—Ü—ñ–≤</h2>
      <div class="search-wrapper">
        <input type="text" id="player-search" placeholder="üîç –ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è..." autocomplete="off">
      </div>
      <div class="sort-controls">
        <button id="btn-sort-name">–ê‚Äì–Ø</button>
        <button id="btn-sort-pts">–ó–∞ –±–∞–ª–∞–º–∏ ‚Üì</button>
      </div>
      <ul id="select-list" class="list"></ul>
      <div class="actions">
        <button id="btn-add-selected">–î–æ–¥–∞—Ç–∏ —É –ª–æ–±–±—ñ</button>
        <button id="btn-clear-selected">–û—á–∏—Å—Ç–∏—Ç–∏ –≤–∏–±—ñ—Ä</button>
      </div>
    </section>

    <!-- 2. –õ–æ–±–±—ñ –¥–Ω—è -->
    <section id="lobby-area" class="card">
      <h2>–õ–æ–±–±—ñ –¥–Ω—è</h2>
      <table class="table">
        <thead>
          <tr><th>–ù—ñ–∫</th><th>–ë–∞–ª–∏</th><th>–†–∞–Ω–≥</th><th>‚Üí–ö–æ–º–∞–Ω–¥–∞ / ‚úï</th></tr>
        </thead>
        <tbody id="lobby-list"></tbody>
      </table>
      <p class="text-muted">
        –ì—Ä–∞–≤—Ü—ñ–≤: <span id="lobby-count">0</span> |
        –°—É–º–∞: <span id="lobby-sum">0</span> |
        –°–µ—Ä–µ–¥–Ω—ñ–π: <span id="lobby-avg">0</span>
      </p>
      <div class="actions">
        <button id="btn-clear-lobby">–û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–±–±—ñ</button>
      </div>
    </section>

    <!-- 3. –°—Ü–µ–Ω–∞—Ä—ñ–π -->
    <section id="scenario-area" class="card hidden">
      <h2>–†–µ–∂–∏–º –≥—Ä–∏</h2>
      <label for="teamsize">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥:</label>
      <select id="teamsize">
        <option value="2">2 –∫–æ–º–∞–Ω–¥–∏</option>
        <option value="3">3 –∫–æ–º–∞–Ω–¥–∏</option>
        <option value="4">4 –∫–æ–º–∞–Ω–¥–∏</option>
      </select>
      <div class="actions">
        <button id="btn-auto">–ê–≤—Ç–æ-–±–∞–ª–∞–Ω—Å</button>
        <button id="btn-manual">–†—É—á–Ω–µ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è</button>
      </div>
    </section>

    <!-- 4. –ö–æ–º–∞–Ω–¥–∏ -->
    <section id="teams-area" class="grid hidden"></section>

    <!-- 5. –í–∏–±—ñ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞—Ä–µ–Ω–∏ -->
    <section id="arena-select" class="card hidden">
      <h2>–í–∏–±–µ—Ä—ñ—Ç—å –¥–≤—ñ –∫–æ–º–∞–Ω–¥–∏</h2>
      <div id="arena-checkboxes" class="flex gap-2"></div>
      <div class="actions">
        <button id="btn-start-match" disabled>–ü–æ—á–∞—Ç–∏ –±—ñ–π</button>
      </div>
    </section>

    <!-- 6. –ê—Ä–µ–Ω–∞ -->
    <section id="arena-area" class="card hidden">
      <h2>–ê—Ä–µ–Ω–∞: <span id="arena-vs"></span></h2>
      <label for="mvp">MVP:</label>
      <select id="mvp"></select>
      <div class="field"></div>
      <div class="field">
        <label for="penalty">–®—Ç—Ä–∞—Ñ:</label>
        <input type="text" id="penalty" placeholder="–Ω—ñ–∫1:-10, –Ω—ñ–∫2:-5">
      </div>
      <div id="arena-rounds" class="rounds-grid"></div>
      <div class="actions">
        <button id="btn-save-match" disabled>–ó–±–µ—Ä–µ–≥—Ç–∏ –≥—Ä—É</button>
        <input type="file" id="pdf-upload" accept="application/pdf" class="pdf-input">
        <button id="btn-parse-pdf" disabled>–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ PDF-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
        <button id="btn-clear-arena">–°–∫–∏–Ω—É—Ç–∏ –∞—Ä–µ–Ω—É</button>
      </div>
    </section>

    <!-- 7. –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä—ñ–≤ -->
      <section id="avatar-admin" class="card">
        <h2>–ö–µ—Ä—É–≤–∞–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∞–º–∏ —Ç–∞ —Å—Ç–∞—Ç—Ç—é</h2>
        <ul id="avatar-list" class="list"></ul>
        <div class="actions">
          <button id="save-avatars" disabled>–ó–±–µ—Ä–µ–≥—Ç–∏ –∞–≤–∞—Ç–∞—Ä–∏</button>
          <button id="save-genders" disabled>–ó–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞—Ç—å</button>
        </div>
      </section>
  </main>

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
  </script>

  <!-- ES-–º–æ–¥—É–ª—ñ -->
  <script type="module" src="scripts/api.js"></script>
  <script type="module" src="scripts/pdfParser.js"></script>
  <script type="module" src="scripts/sortUtils.js"></script>
  <script type="module" src="scripts/balanceUtils.js"></script>
  <script type="module" src="scripts/lobby.js"></script>
  <script type="module" src="scripts/teams.js"></script>
  <script type="module" src="scripts/scenario.js"></script>
  <script type="module" src="scripts/arena.js"></script>
  <script type="module" src="scripts/avatarAdmin.js"></script>
  <script type="module" src="scripts/main.js"></script>
</body>
</html>
