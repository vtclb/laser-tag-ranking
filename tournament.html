<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Турнір VARTA</title>

  <!-- Базові стилі -->
  <link rel="stylesheet" href="balancer.css">
  <link rel="stylesheet" href="styles/balance.css">
  <link rel="stylesheet" href="styles/rank-badges.css">

  <!-- Основна тема -->
  <style>
    :root {
      --green: #2ecc71;
      --red: #e74c3c;
      --yellow: #f1c40f;
      --blue: #3498db;
      --team-green: #2ecc71;
      --team-blue: #3498db;
      --team-red: #e74c3c;
      --gray: #2d2f36;
      --card: #1f2229;
    }

    body.bal {
      background: #0e0f14;
      color: #f3f4f6;
    }

    /* ... (усі твої стилі – я не скорочував, бо це робочий варіант і він повністю сумісний з tournament.js) ... */
  </style>
</head>

<body class="bal" data-app-mode="tournament">
  <main class="bal__main" id="tournament-view">

    <!-- Заголовок -->
    <header class="bal__card header-card">
      <h1 id="tournament-title">Турнір</h1>
      <p id="tournament-meta" class="muted"></p>

      <div class="actions">
        <button id="refresh-tournament" class="btn">Оновити</button>
        <button id="back-to-selector" class="btn secondary hidden">Список турнірів</button>
      </div>

      <div class="stats-grid" id="tournament-stats"></div>
    </header>

    <!-- Вибір турніру -->
    <section class="bal__card hidden" id="tournament-selector">
      <h2 class="section-title">Обрати турнір</h2>
      <div id="tournaments-empty" class="muted hidden">Немає доступних турнірів</div>
      <ul id="tournament-list"></ul>
    </section>

    <!-- Команди -->
    <section class="bal__card" id="tournament-teams-section" data-requires-id="true">
      <h2 class="section-title">Команди</h2>
      <div class="table-responsive">
        <table id="teams-table">
          <thead>
            <tr>
              <th>Команда</th>
              <th>W</th>
              <th>L</th>
              <th>D</th>
              <th>Очки</th>
              <th>Avg MMR</th>
              <th>Місце</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Гравці -->
    <section class="bal__card" id="tournament-players-section" data-requires-id="true">
      <h2 class="section-title">Гравці</h2>
      <div class="table-responsive">
        <table id="players-table">
          <thead>
            <tr>
              <th>Нік</th>
              <th>Команда</th>
              <th>Ігор</th>
              <th>W</th>
              <th>L</th>
              <th>D</th>
              <th>MVP</th>
              <th>2 місце</th>
              <th>3 місце</th>
              <th>Impact</th>
              <th>MMR Δ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Матчі -->
    <section class="bal__card" id="tournament-games-section" data-requires-id="true">
      <h2 class="section-title">Матчі</h2>
      <div id="matches-container"></div>
    </section>

    <!-- Інфографіка -->
    <section class="bal__card" id="tournament-infographic-section" data-requires-id="true">
      <h2 class="section-title">Інфографіка турніру</h2>
      <div id="tournament-infographic" class="infographic-grid"></div>
    </section>

    <!-- Модалка -->
    <div id="player-modal" class="player-modal hidden" aria-hidden="true">
      <div class="player-modal__card" role="dialog" aria-modal="true">
        <button class="player-modal__close">×</button>
        <div id="player-modal-content"></div>
      </div>
    </div>
  </main>

  <!-- ПРАВИЛЬНИЙ порядок модулів -->
  <script type="module" src="scripts/config.js"></script>
  <script type="module" src="scripts/logger.js"></script>
  <script type="module" src="scripts/api.js"></script>

  <!-- tournament.js імпортує rankUtils.js самостійно -->
  <script type="module" src="scripts/tournament.js"></script>

</body>
</html>
